name: Build C# GUI App

on:
  push:
    branches:
      - '*'
  pull_request:
    branches:
      - '*'

jobs:
  run-script:
      runs-on: windows-latest
      steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Install Doxygen from .exe
        run: |
            .\doxygen-installer.exe /quiet /install

      - name: Find Doxygen installation path
        run: |
              # Знайдемо, де було інстальовано Doxygen
              $doxygenPath = "C:\Program Files\doxygen\bin\doxygen.exe"
              if (Test-Path $doxygenPath) {
              Write-Host "Doxygen is installed at $doxygenPath"
              # Додаємо шлях до PATH
              $env:PATH += ";C:\Program Files\doxygen\bin"
              } else {
                Write-Host "Doxygen not found at expected location."
                exit 1
              }

      - name: Check if Doxygen is installed
        run: doxygen --version

      


